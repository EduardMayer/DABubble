<div id="header-searchfield-container" *ngIf="options">

  <mat-chip-grid #chipGrid>
    <mat-chip-row (removed)="remove(user)" *ngFor="let user of channelUsers; let i = index">
      <img src='{{user.avatar}}' class="inputAvatar"> {{ user.fullName }}
      <button matChipRemove [attr.aria-label]="'remove ' + user">
        <mat-icon>cancel</mat-icon>
      </button>
    </mat-chip-row>
  </mat-chip-grid>

  <input #searchField id="header-searchfield" type="text" placeholder="Code learning durchsuchen"
    [matAutocomplete]="auto" [matChipInputFor]="chipGrid" [formControl]="headerControl" matInput>

  <mat-autocomplete autoActiveFirstOption #auto="matAutocomplete" (optionSelected)="add($event.option.value)">
    <mat-option *ngFor="let option of filteredOptions$ | async" [value]="option">

      <div *ngIf="option.type === 'user'; else channel">
        <img class='user-img' src="{{ option.avatarSrc }}">
        {{ option.name }}
      </div>

      <ng-template #channel>
        {{ option.name }}
      </ng-template>
      
    </mat-option>
  </mat-autocomplete>
  
  <img id="header-searchfield-icon" src="/assets/img/icons/search_gray.svg" alt="search" *ngIf="styleType=='header'">
</div>