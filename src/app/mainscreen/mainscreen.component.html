
<!--
<div *ngIf="channelFirebaseService.finishedLoading">
    Channels geladen
</div>
<div *ngIf="userFirebaseService.finishedLoading">
    Users geladen
</div>
-->


<div id="main-container" *ngIf="channelFirebaseService.finishedLoading && userFirebaseService.finishedLoading">
    <app-header id="main-header" 
        [channelSelected]="channelFirebaseService.selectedChannelId != undefined"
        [chatSelected]="chatFirebaseService.selectedChatId != undefined">
    </app-header>
    <div id="main-body">
        <app-sidenav *ngIf="sideNavOpen" id="main-sidebar"></app-sidenav>
        <ng-container *ngIf="chatFirebaseService.selectedChat; then chatView; else channelView">
        </ng-container>

        <ng-template #chatView>
            <app-chat *ngIf="chatFirebaseService.selectedChatId" id="main-chat"></app-chat>
        </ng-template>
        <ng-template #channelView>
            <app-channel *ngIf="channelFirebaseService.selectedChannelId" id="main-channel"></app-channel>
            <app-thread id="main-thread" *ngIf="threadFirebaseService.message"></app-thread>
        </ng-template>
    </div>

    
    <div id="main-body-mobile">
        <app-sidenav *ngIf="channelFirebaseService.selectedChannelId == undefined && chatFirebaseService.selectedChatId == undefined" 
            id="main-sidebar">
        </app-sidenav>

        <ng-container *ngIf="chatFirebaseService.selectedChat; then chatView; else channelView">
        </ng-container>

        <ng-template #chatView>
            <app-chat *ngIf="chatFirebaseService.selectedChatId" id="main-chat"></app-chat>
        </ng-template>

        <ng-template #channelView>
            <app-channel *ngIf="channelFirebaseService.selectedChannelId" id="main-channel"></app-channel>
            <app-thread id="main-thread" *ngIf="threadFirebaseService.message"></app-thread>
        </ng-template>
    </div>
    
</div>

<div (click)="toggleSideNav()" id="workspace">
    <h4 *ngIf="sideNavOpen">Workspace-Menü schließen</h4>
    <h4 *ngIf="!sideNavOpen">Workspace-Menü öffnen</h4>
</div>

<div *ngIf="userProfilOpen">
    <app-user-profil [user]="userProfilUser"></app-user-profil>
</div>